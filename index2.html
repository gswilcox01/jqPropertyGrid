<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="UTF-8">
	<title>jqPropertyGrid Example</title>

	<style>
		div.propertyGrid {
			font-family: 'verdana';
			font-size: 12px;
		}
	</style>
  <!-- https://getbootstrap.com/docs/3.3/getting-started/ -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<link rel='stylesheet' href='./dist/jqPropertyGrid.css' />
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/themes/smoothness/jquery-ui.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<script src="./dist/jqPropertyGrid.js"></script>


	<script>
		$(function() {
			// This is our data structure
			var dataStructure = {
				font: 'Consolas',
				fontSize: 14,
				fontColor: '#a3ac03',
				jQuery: true,
				modernizr: false,
				framework: 'angular',
				iHaveNoMeta: 'Never mind...',
				icon: 'home',
				choices: ["Choice 1", "Choice 2", "A really long choice which should trigger the horizontal scrollbar!"],
				plaintext: "plain text for a text area (i.e. not an array)"
			};

			// This is our meta object / form design
			var formDesignSettings = {
				font: { group: 'Editor', name: 'Font', description: 'The font editor to use'},
				fontSize: { group: 'Editor', name: 'Font size', type: 'number', options: { min: 0, max: 20, step: 2 }},
				fontColor: { group: 'Editor', name: 'Font color', type: 'color', options: { preferredFormat: 'hex' }},
				jQuery: { group: 'Plugins', description: 'Whether or not to include jQuery on the page', showHelp: false },
				modernizr: {group: 'Plugins', type: 'boolean', description: 'Whether or not to include modernizr on the page'},
				framework: {name: 'Framework', group: 'Plugins', type: 'options', options: ['None', {text:'AngularJS', value: 'angular'}, {text:'Backbone.js', value: 'backbone'}], description: 'Whether to include any additional framework'},
				icon: {name: 'Icon', type: 'icon'},
				choices: {name: 'n/a', group: 'Choices (1 per line):', type: 'textarea', colspan2: true},
				plaintext: {group: 'Plaintext Textarea:', type: 'textarea', colspan2: true}
			};

      // define some extra custom types to use with jqPropertyGrid
      // TODO: Move these directly into the grid component! so each user doesn't have to define these...
			var theCustomTypes = {
				icon: {
					html: function(elemId, name, value, meta) { // custom renderer for type (required)
						return '<i class="fa fa-' + value + '"></i>';
					},
					valueFunction: function(elemId, name, value, meta) {  // custom getter for current value (required)
						return function () {
							return value;
						}
					},
					postCreateInitFunction: function(elemId, name, value, meta) {  // custom post-DOM init function (optional)
						return function () {
							console.log('no postCreateInitFunction for icon type');
						}
					}
				}
			};

			// Lets create the grid for it
      function initPropertyGrid(data) {
        $('#propGrid').jqPropertyGrid(data, {
          useFontAwesome: true, 
          meta: formDesignSettings, 
          customTypes: theCustomTypes
        });
      }
      function getFormValues() {
				var first = JSON.stringify($('#propGrid').jqPropertyGrid('get'), null, '\t');
				$('#txtValues').val(first);
      }
      function setFormValues() {
				var newData = JSON.parse($('#txtValues').val())
        initPropertyGrid(newData);
      }

      initPropertyGrid(dataStructure);
      getFormValues();
			$('#btnGetValues').click(getFormValues);
			$('#btnSetValues').click(setFormValues);
		});
	</script>
</head>
<body>
	<!-- navbar -->
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" href="index.html">jqPropertyGrid</a>
			</div>
			<div>
				<ul class="nav navbar-nav">
					<li ><a href="index.html">Example 1</a></li>
					<li class="active"><a href="index2.html">Example 2</a></li>
				</ul>
			</div>
		</div><!-- /.container-fluid -->
	</nav>

  <!-- example -->
	<div id="propGrid" class="propertyGrid" style="float:left; margin-left: 20px;"></div>
	<div style="border: 0px solid gold; float:left; margin-left: 20px;">
		<textarea id="txtValues" rows="20" cols="50"></textarea><br>
		<input id="btnSetValues" type="button" value="<--- Set Form Values"/>
		<input id="btnGetValues" type="button" value="Get Form Values --->"/>
	</div>
</body>
</html>
